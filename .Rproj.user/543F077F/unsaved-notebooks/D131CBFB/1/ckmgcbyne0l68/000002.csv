"0","library(gsheet)"
"0","msc <- gsheet2tbl('https://docs.google.com/spreadsheets/d/1fg1nZG83Tn93oL3YvKCVMqvsX5Xo9Vz4532BX9BK4wQ/edit?usp=sharing')"
"0","# ---------"
"0","content <- paste(sep="""","
"0","                 ""<b>"",msc$Programme, ""</b><br/>"","
"0","                 ""Cruise: "", msc$Cruise_code, ""<br/>"","
"0","                 ""Contact: "", msc$Contact, ""<br/>"")"
"0","library(RColorBrewer)"
"0","palette <- c(brewer.pal(8, ""Dark2""), brewer.pal(9, ""Set1""))"
"0","COL <- palette[as.numeric(as.factor(msc$Contact))]"
"0","library(leaflet)"
"0","leafMap <- leaflet(data=msc) %>% "
"0","  addProviderTiles(""Esri.OceanBasemap"") %>%"
"0","  addCircleMarkers(~Long,~Lat,"
"0","                   color = COL,"
"0","                   popup = content,"
"0","                   clusterOptions = markerClusterOptions(#freezeAtZoom = 5,"
"0","                     disableClusteringAtZoom = 7)"
"0","                   )"
"0","leafMap"
